function fix_sidebar(){if($("body").hasClass("fixed")){var n=$(window).height()-$(".header").height();test?$(".sidebar").slimscroll({height:n+"px",color:"rgba(2555,2555,255,0.6)",size:"5px"}):$(".sidebar, .slimScrollDiv").css("height",n+"px");test=!1}}function newWinFn(){}var left_side_width,test;Date.prototype.toISOString||function(){function n(n){return n<10?"0"+n:n}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}();$(document).ready(function(){var t,n,i;$(".btn[title]").tooltip({trigger:"hover",container:"body",viewport:{selector:"body",padding:0}}).on("click",function(){$(this).tooltip("hide")});t=$("html").attr("lang")||"it";bootbox.setDefaults({locale:t});n=localStorage.getItem("openSub");n&&$("#"+n+" ul").slideDown();i=window.location.pathname;$('[href="'+i.substr(1)+'"]').parent().addClass("active");$(".numeric").numeric({decimalPlaces:0});$(".float").numeric({decimalPlaces:2,decimal:","});$(document).off(".datepicker.data-api");$(".datepicker").datepicker({autoclose:"true",language:"it",todayBtn:!0,todayHighlight:!0,weekStart:1,format:"dd/mm/yyyy"}).on("changeDate",function(){var n=$(this);n.attr("data-dateiso",n.datepicker("getUTCDate").toISOString())}).each(function(){var t=$(this),n;try{n=Date.parse(t.attr("data-dateiso"));n&&t.datepicker("setUTCDate",new Date(n))}catch(i){}});$.growl(!1,{element:"body",allow_dismiss:!0,placement:{from:"bottom",align:"right"},offset:20,spacing:10,z_index:1031,delay:6e3,timer:1e3,url_target:"_blank",mouse_over:!1,animate:{enter:"animated fadeDown in fast",exit:"animated fadeDown out fast"},icon_type:"class",template:'<div data-growl="container" class="alert" role="alert"> <button type="button" class="close" data-growl="dismiss">     <span aria-hidden="true">×<\/span>     <span class="sr-only">Close<\/span> <\/button> <span data-growl="icon"><\/span> <h4 data-growl="title"><\/h4> <span data-growl="message"><\/span> <a href="#" data-growl="url"><\/a> <\/div>'});$(".treeview").each(function(){var n=$(this);n.find(".active").length&&n.addClass("active")});$(".input-group.date .btn").on("click",function(n){n.preventDefault();var t=$(this);t.parent().siblings(".datepicker").trigger("focus")})});left_side_width=260;$(function(){"use strict";function n(){var n=$(window).height()-$("body > form > div .header").height()-($("body > form > div > .footer").outerHeight()||0),t;$(".wrapper").css("min-height",n+"px");t=$(".wrapper").height();t>n?$(".left-side, html, body").css("min-height",t+"px"):$(".left-side, html, body").css("min-height",n+"px")}$("[data-toggle='offcanvas']").click(function(n){n.preventDefault();$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))});$(".btn").bind("touchstart",function(){$(this).addClass("hover")}).bind("touchend",function(){$(this).removeClass("hover")});$("[data-toggle='tooltip']").tooltip();$("[data-widget='collapse']").click(function(){var n=$(this).parents(".box").first(),t=n.find(".box-body, .box-footer");n.hasClass("collapsed-box")?(n.removeClass("collapsed-box"),$(this).children(".fa-plus").removeClass("fa-plus").addClass("fa-minus"),t.slideDown()):(n.addClass("collapsed-box"),$(this).children(".fa-minus").removeClass("fa-minus").addClass("fa-plus"),t.slideUp())});$('.btn-group[data-toggle="btn-toggle"]').each(function(){var n=$(this);$(this).find(".btn").click(function(t){n.find(".btn.active").removeClass("active");$(this).addClass("active");t.preventDefault()})});$("[data-widget='remove']").click(function(){var n=$(this).parents(".box").first();n.slideUp()});$(".sidebar .treeview").tree();n();$(window).resize(function(){n();fix_sidebar()});fix_sidebar();$("input[type='checkbox']:not(.simple), input[type='radio']:not(.simple)").iCheck({checkboxClass:"icheckbox_minimal",radioClass:"iradio_minimal"}).on("ifChanged",function(){$(this).trigger("change")})});test=!0;$(function(){$("#FileBrowserModal").on("show.bs.modal",function(n){var r=$(n.relatedTarget),t=r.attr("data-callback"),i=$(this).find("iframe");t?i.attr("src","/FileBrowser/FileBrowser.aspx?caller=parent&fn="+t):i.attr("src","/FileBrowser/FileBrowser.aspx?caller=parent")})});$(function(){$("#btn_request_pwd").on("click",function(n){n.preventDefault();var t=$("#email").val(),i={email:t};$.getJSON("Ajax/PwdRequest.ashx",i).fail(function(n,t,i){bootbox.alert("Si è verificaro un errore: "+t+","+i)}).done(function(n){n.success?bootbox.alert("La tua password è stata inviata con successo alla tua casella di posta."):bootbox.alert("Errore: "+n.msg)})})});$(function(){$("#btn_change_pwd").on("click",function(n){var f;n.preventDefault();var t=$(this),i=$("#oldpwd").val(),r=$("#pwd").val(),u=$("#checkpwd").val();(i.length||r.length||u.length)&&(f={oldpwd:i,pwd:r,checkpwd:u},t.button("loading"),$.getJSON("Ajax/PdwChange.ashx",f).fail(function(n,t,i){$("#Modal_change_pwd .alert").text("Si è verificaro un errore: "+t+","+i).removeClass("alert-success").addClass("alert-danger").show()}).done(function(n){n.success?$("#Modal_change_pwd .alert").text(n.msg).removeClass("alert-danger").addClass("alert-success").show():$("#Modal_change_pwd .alert").text(n.msg).removeClass("alert-success").addClass("alert-danger").show()}).always(function(){t.button("reset").hide()}))});$("#Modal_change_pwd").on("hidden.bs.modal show.bs.modal",function(){var n=$(this);n.find(".alert").hide();n.find(".btn").show();n.find(":password").val("")})});$(function(){var n=function(){var t=function(n){return n<10&&(n="0"+String(n)),n};$.getJSON("Session/SessionHandler.ashx").fail(function(t,i,r){bootbox.hideAll();var u="Si è verificaro un errore di rete: "+(r==""?"o il dispositivo non è connesso a Iternet, o il server non risponde.":i+","+r);bootbox.dialog({message:u,closeButton:!1,buttons:{Riprova:{className:"btn-primary",callback:function(){setTimeout(n,1e3)}},Annulla:{className:"btn-danger",callback:function(){window.location.reload()}}}})}).done(function(i){var r=i.data,f=Math.floor(r/3600),u=r%3600,e=Math.floor(u/60),o=u%60;i.success?($("#sessionExpiresIn").text(t(f)+":"+t(e)+":"+t(o)),i.exitcode!=0?$("#RinnovaSessione").modal("show"):setTimeout(n,12e4)):(bootbox.hideAll(),bootbox.alert(i.msg,function(){window.location.reload()}))})};n();$('[data-action="sessionInfo"]').on("click",function(n){var t;if(n.preventDefault(),t=parseFloat(sessionExpiryTimeout),isNaN(t))bootbox.alert("Errore di connessione: impossibile stabilire lo stato della sessione.");else{var r=Math.round(t/60),i=Math.floor(r/60),u=r%60;i>0?bootbox.alert("La sessione scadrà tra "+i+(i==1?" ora e ":" ore e ")+u+" minuti."):bootbox.alert("La sessione scadrà tra "+u+" minuti.")}});$('[data-action="sessionRefresh"]').on("click",function(t){t.preventDefault();var i={email:$("#email").val(),password:$("#password").val(),"g-recaptcha-response":$("#g-recaptcha-response").val()};$.ajax("Session/SessionRefresh.ashx",{cache:!1,dataType:"json",method:"post",data:i}).fail(function(n,t,i){bootbox.hideAll();var r="Si è verificaro un errore di rete: "+(i==""?"o il dispositivo non è connesso a Iternet, o il server non risponde.":t+","+i);bootbox.alert(r)}).done(function(n){n.success?(bootbox.hideAll(),bootbox.alert(n.msg,function(){$("#RinnovaSessione").modal("hide")})):n.exitcode==1?bootbox.alert(n.msg,function(){window.location.reload()}):bootbox.alert(n.msg)}).always(function(){n();grecaptcha&&grecaptcha.reset()})})});$(function(){$("#LightBox").on("show.bs.modal",function(n){var f=$(this),s=$(n.relatedTarget),c=s.attr("data-source"),t=$(c).val(),r,h,u;t||(t=s.attr("data-url"));var e=f.find(".modal-title"),i=f.find(".modal-body"),o=f.children(".modal-dialog").removeClass("modal-lg modal-sm");t?(e.html(t),i.html(""),r=t.substr(t.lastIndexOf(".")).toLowerCase(),r==".jpeg"||r==".jpg"||r==".gif"||r==".png"?(h=$("<img />").addClass("img-responsive center-block").attr("src",t).appendTo(i),u=h[0],u.onload=function(){u.width<300?o.addClass("modal-sm"):u.width>600&&o.addClass("modal-lg")}):/<[a-z][\s\S]*>/i.test(t)?(e.html("Magic CMS"),$(t).addClass("text-center center-block").appendTo(i)):(o.addClass("modal-lg"),$('<iframe border="0" />').css({width:"100%",border:0,display:"block"}).height($(window).height()*.8).attr("src",t).appendTo(i))):(e.html("Errore"),i.html('<h4 class="text-center">Nessun contenuto da visualizzare.<\/h4>'))})});$(function(){var r=$("#map-dialog .map-canvas").height($(window).height()*.6),n=$("#geolocAddress"),f=n.siblings('input[type="hidden"]'),i,t,e=new google.maps.Geocoder,u=function(r){$.isPlainObject(r)&&e.geocode(r,function(r,u){n.parent().spin(!1);u==="OK"?(i.setCenter(r[0].geometry.location),t.setPosition(r[0].geometry.location),n.val(r[0].formatted_address),f.val(r[0].geometry.location.lat()+","+r[0].geometry.location.lng())):alert("Impossibile risolvere l'indirizzo ("+u+")")})};r.gmap3({address:"Roma, Italia",zoom:16,mapTypeControl:!0,navigationControl:!0,scrollwheel:!0,streetViewControl:!0}).then(function(r){i=r;t=new google.maps.Marker({map:r,position:r.getCenter(),draggable:!0});t.addListener("dragend",function(){n.parent().spin();u({location:t.getPosition()})});var f=document.getElementById("geolocAddress"),e=new google.maps.places.Autocomplete(f);e.bindTo("bounds",r)});$("#map-dialog").on("shown.bs.modal",function(t){var u,s;r.height($(window).height()*.6);google.maps.event.trigger(i,"resize",{});var f=$(this),o=$(t.relatedTarget),e=o.attr("data-source");f.attr("data-souce",e);u=$(e).val();s=f.find(".modal-title");u=u||"Roma Italy";n.val(u);$('[data-action="geo-search"]').trigger("click")}).on("hide.bs.modal",function(){var n=$(this).attr("data-souce"),t=$("#geolocAddress"),i=t.siblings('input[type="hidden"]');$(n).val(i.val()).change()});$('[data-action="geo-search"]').on("click",function(n){n.preventDefault();var i=$(this),e=$("#map-canvas"),r=i.attr("data-source"),t=$(r),o=t.siblings('input[type="hidden"]'),f=t.val();t.parent().spin();u({address:f})})}),function(n){n.mb_selectnode=function(t,i,r,u){for(var f,e=0;e<r.length;e++)f=r[e],f.a_attr["data-pk"]==i&&(u?t.select_node(f):t.deselect_node(f)),f.children.length&&n.mb_selectnode(t,i,f.children,u)}}(jQuery);$(function(){$("#checkboxed-types-modal").on("shown.bs.modal",function(n){var t=$(this),r=$(n.relatedTarget),u=t.find(".modal-title"),i=t.find(".modal-body");t.data("target-selector",r.attr("data-selector"));i.css("min-height","120px").spin().load("Ajax/GetTypesCheckboxed.ashx",function(){i.spin(!1).css("min-height",0).find(":checkbox").iCheck({checkboxClass:"icheckbox_minimal"})})});$('#checkboxed-types-modal button[data-action="get-list"]').on("click",function(){var n=$("#checkboxed-types-modal"),i=n.data("target-selector"),e=$(this),r=$(i),u=n.find(".modal-body"),f=u.find(":checkbox:checked"),t=[];f.each(function(){t.push($(this).val())});r.val(t.join(",")).change()})});$(function(){var n=$("html").attr("lang")||"it";$('[data-toggle="fb-window"]').on("click",function(t){var i,o,s;t.preventDefault();$win=$(window);var u=$win.height(),f=$win.width(),e=$(this).attr("data-callback")||"",r=Math.floor(u*.75);r=r<480?u:r;i=Math.floor(f*.75);i=i<640?f:i;o=window.screenTop+(u<480?0:50);s=window.screenLeft+(f<640?0:50);window.open("/FileBrowser/FileBrowser.aspx?caller=opener&fn="+(e==""?"newWinFn":e)+"&langCode="+n,"fileBrowser","top="+o+",left="+s+",menubar=0,scrollbars=0,toolbar=0,height="+r+",width="+i)})});$(function(){var n=$("#modal-magicindex");$('[data-action="populate"]').on("click",function(n){n.preventDefault();var r=$(this),t=r.closest(".modal-content"),i=t.find(".alert");t.spin();$.getJSON("Ajax/PopulateMagicIndex.ashx").fail(function(n,t,r){i.text("Si è verificaro un errore: "+t+","+r).removeClass("alert-success").addClass("alert-danger").show()}).done(function(n){n.success?(i.text(n.msg).removeClass("alert-danger").addClass("alert-success").show(),r.attr("disabled","disabled")):i.text(n.msg).removeClass("alert-success").addClass("alert-danger").show()}).always(function(){t.spin(!1)})});n.on("hidden.bs.modal show.bs.modal",function(){var n=$(this);n.find(".alert").hide();n.find(".btn").removeAttr("disabled")})});
/*
//# sourceMappingURL=app.min.js.map
*/