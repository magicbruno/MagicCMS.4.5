(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("./xml-hint")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./xml-hint"],n):n(CodeMirror)})(function(n){"use strict";function l(n){for(var t in c)c.hasOwnProperty(t)&&(n.attrs[t]=c[t])}function a(t,r){var f={schemaInfo:i},u;if(r)for(u in r)f[u]=r[u];return n.hint.xml(t,f)}var u="ab aa af ak sq am ar an hy as av ae ay az bm ba eu be bn bh bi bs br bg my ca ch ce ny zh cv kw co cr hr cs da dv nl dz en eo et ee fo fj fi fr ff gl ka de el gn gu ht ha he hz hi ho hu ia id ie ga ig ik io is it iu ja jv kl kn kr ks kk km ki rw ky kv kg ko ku kj la lb lg li ln lo lt lu lv gv mk mg ms ml mt mi mr mh mn na nv nb nd ne ng nn no ii nr oc oj cu om or os pa pi fa pl ps pt qu rm rn ro ru sa sc sd se sm sg sr gd sn si sk sl so st es su sw ss sv ta te tg th ti bo tk tl tn to tr ts tt tw ty ug uk ur uz ve vi vo wa cy wo fy xh yi yo za zu".split(" "),r=["_blank","_self","_top","_parent"],o=["ascii","utf-8","utf-16","latin1","latin1"],s=["get","post","put","delete"],h=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],f=["all","screen","print","embossed","braille","handheld","print","projection","screen","tty","tv","speech","3d-glasses","resolution [>][<][=] [X]","device-aspect-ratio: X/Y","orientation:portrait","orientation:landscape","device-height: [X]","device-width: [X]"],t={attrs:{}},i={a:{attrs:{href:null,ping:null,type:null,media:f,target:r,hreflang:u}},abbr:t,acronym:t,address:t,applet:t,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:f,hreflang:u,type:null,shape:["default","rect","circle","poly"]}},article:t,aside:t,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["","autoplay"],loop:["","loop"],controls:["","controls"]}},b:t,base:{attrs:{href:null,target:r}},basefont:t,bdi:t,bdo:t,big:t,blockquote:{attrs:{cite:null}},body:t,br:t,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["","autofocus"],disabled:["","autofocus"],formenctype:h,formmethod:s,formnovalidate:["","novalidate"],formtarget:r,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:t,center:t,cite:t,code:t,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["","disabled"],checked:["","checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["","disabled"],multiple:["","multiple"]}},datalist:{attrs:{data:null}},dd:t,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["","open"]}},dfn:t,dir:t,div:t,dl:t,dt:t,em:t,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["","disabled"],form:null,name:null}},figcaption:t,figure:t,font:t,footer:t,form:{attrs:{action:null,name:null,"accept-charset":o,autocomplete:["on","off"],enctype:h,method:s,novalidate:["","novalidate"],target:r}},frame:t,frameset:t,h1:t,h2:t,h3:t,h4:t,h5:t,h6:t,head:{attrs:{},children:["title","base","link","style","meta","script","noscript","command"]},header:t,hgroup:t,hr:t,html:{attrs:{manifest:null},children:["head","body"]},i:t,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["","seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["","autofocus"],checked:["","checked"],disabled:["","disabled"],formenctype:h,formmethod:s,formnovalidate:["","novalidate"],formtarget:r,multiple:["","multiple"],readonly:["","readonly"],required:["","required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:t,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["","autofocus"],disabled:["","disabled"],keytype:["RSA"]}},label:{attrs:{"for":null,form:null}},legend:t,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:u,media:f,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:t,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:o,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:t,noframes:t,noscript:t,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["","typemustmatch"]}},ol:{attrs:{reversed:["","reversed"],start:null,type:["1","a","A","i","I"]}},optgroup:{attrs:{disabled:["","disabled"],label:null}},option:{attrs:{disabled:["","disabled"],label:null,selected:["","selected"],value:null}},output:{attrs:{"for":null,form:null,name:null}},p:t,param:{attrs:{name:null,value:null}},pre:t,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:t,rt:t,ruby:t,s:t,samp:t,script:{attrs:{type:["text/javascript"],src:null,async:["","async"],defer:["","defer"],charset:o}},section:t,select:{attrs:{form:null,name:null,size:null,autofocus:["","autofocus"],disabled:["","disabled"],multiple:["","multiple"]}},small:t,source:{attrs:{src:null,type:null,media:null}},span:t,strike:t,strong:t,style:{attrs:{type:["text/css"],media:f,scoped:null}},sub:t,summary:t,sup:t,table:t,tbody:t,td:{attrs:{colspan:null,rowspan:null,headers:null}},textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["","autofocus"],disabled:["","disabled"],readonly:["","readonly"],required:["","required"],wrap:["soft","hard"]}},tfoot:t,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:t,time:{attrs:{datetime:null}},title:t,tr:t,track:{attrs:{src:null,label:null,"default":null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:u}},tt:t,u:t,ul:t,"var":t,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["","autoplay"],mediagroup:["movie"],muted:["","muted"],controls:["","controls"]}},wbr:t},c={accesskey:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"],"class":null,contenteditable:["true","false"],contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["en","es"],spellcheck:["true","false"],style:null,tabindex:["1","2","3","4","5","6","7","8","9"],title:null,translate:["yes","no"],onclick:null,rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"]},e;l(t);for(e in i)i.hasOwnProperty(e)&&i[e]!=t&&l(i[e]);n.htmlSchema=i;n.registerHelper("hint","html",a)}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function r(n,t){this.cm=n;this.options=t;this.widget=null;this.debounce=0;this.tick=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var i=this;n.on("cursorActivity",this.activityFunc=function(){i.cursorActivity()})}function l(t,i){var r=n.cmpPos(i.from,t.from);return r>0&&t.to.ch-t.from.ch!=i.to.ch-i.from.ch}function a(n,t,r){var e=n.options.hintOptions,f={};for(var u in i)f[u]=i[u];if(e)for(u in e)e[u]!==undefined&&(f[u]=e[u]);if(r)for(u in r)r[u]!==undefined&&(f[u]=r[u]);return f.hint.resolve&&(f.hint=f.hint.resolve(n,t)),f}function e(n){return typeof n=="string"?n:n.text}function v(n,t){function o(n,i){var r;r=typeof i!="string"?function(n){return i(n,t)}:f.hasOwnProperty(i)?f[i]:i;e[n]=r}var f={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},r=n.options.customKeys,e=r?{}:f,u,i;if(r)for(i in r)r.hasOwnProperty(i)&&o(i,r[i]);if(u=n.options.extraKeys,u)for(i in u)u.hasOwnProperty(i)&&o(i,u[i]);return e}function o(n,t){while(t&&t!=n){if(t.nodeName.toUpperCase()==="LI"&&t.parentNode==n)return t;t=t.parentNode}}function s(i,r){var p,y,w,nt,tt,ot,ut,it,b,st;this.completion=i;this.data=r;this.picked=!1;var h=this,f=i.cm,u=this.hints=document.createElement("ul");for(u.className="CodeMirror-hints",this.selectedHint=r.selectedHint||0,p=r.list,y=0;y<p.length;++y){var k=u.appendChild(document.createElement("li")),a=p[y],rt=c+(y!=this.selectedHint?"":" "+t);a.className!=null&&(rt=a.className+" "+rt);k.className=rt;a.render?a.render(k,r,a):k.appendChild(document.createTextNode(a.displayText||e(a)));k.hintId=y}var l=f.cursorCoords(i.options.alignWithWord?r.from:null),d=l.left,g=l.bottom,ft=!0;u.style.left=d+"px";u.style.top=g+"px";w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);nt=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(i.options.container||document.body).appendChild(u);var s=u.getBoundingClientRect(),ht=s.bottom-nt,ct=u.scrollHeight>u.clientHeight+1,et=f.getScrollInfo();if(ht>0&&(tt=s.bottom-s.top,ot=l.top-(l.bottom-s.top),ot-tt>0?(u.style.top=(g=l.top-tt)+"px",ft=!1):tt>nt&&(u.style.height=nt-5+"px",u.style.top=(g=l.bottom-s.top)+"px",ut=f.getCursor(),r.from.ch!=ut.ch&&(l=f.cursorCoords(ut),u.style.left=(d=l.left)+"px",s=u.getBoundingClientRect()))),it=s.right-w,it>0&&(s.right-s.left>w&&(u.style.width=w-5+"px",it-=s.right-s.left-w),u.style.left=(d=l.left-it)+"px"),ct)for(b=u.firstChild;b;b=b.nextSibling)b.style.paddingRight=f.display.nativeBarWidth+"px";if(f.addKeyMap(this.keyMap=v(i,{moveFocus:function(n,t){h.changeActive(h.selectedHint+n,t)},setFocus:function(n){h.changeActive(n)},menuSize:function(){return h.screenAmount()},length:p.length,close:function(){i.close()},pick:function(){h.pick()},data:r})),i.options.closeOnUnfocus){f.on("blur",this.onBlur=function(){st=setTimeout(function(){i.close()},100)});f.on("focus",this.onFocus=function(){clearTimeout(st)})}f.on("scroll",this.onScroll=function(){var t=f.getScrollInfo(),r=f.getWrapperElement().getBoundingClientRect(),e=g+et.top-t.top,n=e-(window.pageYOffset||(document.documentElement||document.body).scrollTop);if(ft||(n+=u.offsetHeight),n<=r.top||n>=r.bottom)return i.close();u.style.top=e+"px";u.style.left=d+et.left-t.left+"px"});n.on(u,"dblclick",function(n){var t=o(u,n.target||n.srcElement);t&&t.hintId!=null&&(h.changeActive(t.hintId),h.pick())});n.on(u,"click",function(n){var t=o(u,n.target||n.srcElement);t&&t.hintId!=null&&(h.changeActive(t.hintId),i.options.completeOnSingleClick&&h.pick())});n.on(u,"mousedown",function(){setTimeout(function(){f.focus()},20)});return n.signal(r,"select",p[0],u.firstChild),!0}function y(n,t){var r,i;if(!n.somethingSelected())return t;for(r=[],i=0;i<t.length;i++)t[i].supportsSelection&&r.push(t[i]);return r}function h(n,t,i,r){if(n.async)n(t,r,i);else{var u=n(t,i);u&&u.then?u.then(r):r(u)}}function p(t,i){var u=t.getHelpers(i,"hint"),f,r;return u.length?(r=function(n,t,i){function f(u){if(u==r.length)return t(null);h(r[u],n,i,function(n){n&&n.list.length>0?t(n):f(u+1)})}var r=y(n,u);f(0)},r.async=!0,r.supportsSelection=!0,r):(f=t.getHelper(t.getCursor(),"hintWords"))?function(t){return n.hint.fromList(t,{words:f})}:n.hint.anyword?function(t,i){return n.hint.anyword(t,i)}:function(){}}var c="CodeMirror-hint",t="CodeMirror-hint-active",u,f,i;n.showHint=function(n,t,i){var r,u;if(!t)return n.showHint(i);if(i&&i.async&&(t.async=!0),r={hint:t},i)for(u in i)r[u]=i[u];return n.showHint(r)};n.defineExtension("showHint",function(t){var i,u,f;if(t=a(this,this.getCursor("start"),t),i=this.listSelections(),!(i.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(u=0;u<i.length;u++)if(i[u].head.line!=i[u].anchor.line)return}(this.state.completionActive&&this.state.completionActive.close(),f=this.state.completionActive=new r(this,t),f.options.hint)&&(n.signal(this,"startCompletion",this),f.update(!0))}});u=window.requestAnimationFrame||function(n){return setTimeout(n,1e3/60)};f=window.cancelAnimationFrame||clearTimeout;r.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&n.signal(this.data,"close"),this.widget&&this.widget.close(),n.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,i){var r=t.list[i];r.hint?r.hint(this.cm,t,r):this.cm.replaceRange(e(r),r.from||t.from,r.to||t.to,"complete");n.signal(t,"pick",r);this.close()},cursorActivity:function(){var n,t,i;this.debounce&&(f(this.debounce),this.debounce=0);n=this.cm.getCursor();t=this.cm.getLine(n.line);n.line!=this.startPos.line||t.length-n.ch!=this.startLen-this.startPos.ch||n.ch<this.startPos.ch||this.cm.somethingSelected()||n.ch&&this.options.closeCharacters.test(t.charAt(n.ch-1))?this.close():(i=this,this.debounce=u(function(){i.update()}),this.widget&&this.widget.disable())},update:function(n){if(this.tick!=null){var t=this,i=++this.tick;h(this.options.hint,this.cm,this.options,function(r){t.tick==i&&t.finishUpdate(r,n)})}},finishUpdate:function(t,i){this.data&&n.signal(this.data,"update");var r=this.widget&&this.widget.picked||i&&this.options.completeSingle;(this.widget&&this.widget.close(),t&&this.data&&l(this.data,t))||(this.data=t,t&&t.list.length&&(r&&t.list.length==1?this.pick(t,0):(this.widget=new s(this,t),n.signal(t,"shown"))))}};s.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var n=this.completion.cm;this.completion.options.closeOnUnfocus&&(n.off("blur",this.onBlur),n.off("focus",this.onFocus));n.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var n=this;this.keyMap={Enter:function(){n.picked=!0}};this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(i,r){if(i>=this.data.list.length?i=r?this.data.list.length-1:0:i<0&&(i=r?0:this.data.list.length-1),this.selectedHint!=i){var u=this.hints.childNodes[this.selectedHint];u.className=u.className.replace(" "+t,"");u=this.hints.childNodes[this.selectedHint=i];u.className+=" "+t;u.offsetTop<this.hints.scrollTop?this.hints.scrollTop=u.offsetTop-3:u.offsetTop+u.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=u.offsetTop+u.offsetHeight-this.hints.clientHeight+3);n.signal(this.data,"select",this.data.list[this.selectedHint],u)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};n.registerHelper("hint","auto",{resolve:p});n.registerHelper("hint","fromList",function(t,i){var o=t.getCursor(),r=t.getTokenAt(o),c=n.Pos(o.line,r.end),u,s,f,e,h;for(r.string&&/\w/.test(r.string[r.string.length-1])?(u=r.string,s=n.Pos(o.line,r.start)):(u="",s=c),f=[],e=0;e<i.words.length;e++)h=i.words[e],h.slice(0,u.length)==u&&f.push(h);if(f.length)return{list:f,from:s,to:c}});n.commands.autocomplete=n.showHint;i={hint:n.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};n.defineOption("hintOptions",null)}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function i(i,r){var l=r&&r.schemaInfo,g=r&&r.quoteChar||'"',e,u,b,s,p,rt,c,d,ut,a,st,ft,h,et;if(l&&(e=i.getCursor(),u=i.getTokenAt(e),u.end>e.ch&&(u.end=e.ch,u.string=u.string.slice(0,e.ch-u.start)),b=n.innerMode(i.getMode(),u.state),b.mode.name=="xml")){var v=[],k=!1,f,nt=/\btag\b/.test(u.type)&&!/>$/.test(u.string),ht=nt&&/^\w/.test(u.string),ot;if(ht?(d=i.getLine(e.line).slice(Math.max(0,u.start-2),u.start),s=/<\/$/.test(d)?"close":/<$/.test(d)?"open":null,s&&(ot=u.start-(s=="close"?2:1))):nt&&u.string=="<"?s="open":nt&&u.string=="<\/"&&(s="close"),(nt||b.state.tagName)&&!s){var tt=l[b.state.tagName],o=tt&&tt.attrs,w=l["!attrs"];if(!o&&!w)return;if(o){if(w){rt={};for(c in w)w.hasOwnProperty(c)&&(rt[c]=w[c]);for(c in o)o.hasOwnProperty(c)&&(rt[c]=o[c]);o=rt}}else o=w;if(u.type=="string"||u.string=="="){if(d=i.getRange(t(e.line,Math.max(0,e.ch-60)),t(e.line,u.type=="string"?u.start:u.end)),ut=d.match(/([^\s\u00a0=<>\"\']+)=$/),!ut||!o.hasOwnProperty(ut[1])||!(a=o[ut[1]]))return;for(typeof a=="function"&&(a=a.call(this,i)),u.type=="string"&&(f=u.string,st=0,/['"]/.test(u.string.charAt(0))&&(g=u.string.charAt(0),f=u.string.slice(1),st++),ft=u.string.length,/['"]/.test(u.string.charAt(ft-1))&&(g=u.string.charAt(ft-1),f=u.string.substr(st,ft-2)),k=!0),h=0;h<a.length;++h)f&&a[h].lastIndexOf(f,0)!=0||v.push(g+a[h]+g)}else{u.type=="attribute"&&(f=u.string,k=!0);for(et in o)o.hasOwnProperty(et)&&(!f||et.lastIndexOf(f,0)==0)&&v.push(et)}}else{ht&&(f=u.string);k=s;var y=b.state.context,tt=y&&l[y.tagName],it=y?tt&&tt.children:l["!top"];if(it&&s!="close")for(h=0;h<it.length;++h)f&&it[h].lastIndexOf(f,0)!=0||v.push("<"+it[h]);else if(s!="close")for(p in l)l.hasOwnProperty(p)&&p!="!top"&&p!="!attrs"&&(!f||p.lastIndexOf(f,0)==0)&&v.push("<"+p);y&&(!f||s=="close"&&y.tagName.lastIndexOf(f,0)==0)&&v.push("<\/"+y.tagName+">")}return{list:v,from:k?t(e.line,ot==null?u.start:ot):e,to:k?t(e.line,u.end):e}}}var t=n.Pos;n.registerHelper("hint","xml",i)});
/*
//# sourceMappingURL=.min.js.map
*/